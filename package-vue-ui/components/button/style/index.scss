@import '../../style/themes/default';
@import '../../style/_mixins/index';
@import './mixin';

.#{$btn-prefix-cls} {
    line-height: $line-height-base - 0.001;
    @include btn();
    @include btn-default();

    i,
    span {
        pointer-events: none;
        display: inline-block;
    }

    &-primary {
        @include btn-primary();

        .#{$btn-prefix-cls}-group &:not(:first-child):not(:last-child) {
            border-right-color: $btn-group-border;
            border-left-color: $btn-group-border;

            &:disabled {
                border-color: $btn-default-border;
            }
        }

        .#{$btn-prefix-cls}-group &:first-child {
            &:not(:last-child) {
                border-right-color: $btn-group-border;

                &[disabled] {
                    border-right-color: $btn-default-border;
                }
            }
        }

        .#{$btn-prefix-cls}-group &:last-child:not(:first-child),
        .#{$btn-prefix-cls}-group &+& {
            border-left-color: $btn-group-border;

            &[disabled] {
                border-left-color: $btn-default-border;
            }
        }
    }

    &-ghost {
        @include btn-ghost();
    }

    &-dashed {
        @include btn-dashed();
    }

    &-danger {
        @include btn-danger();
    }

    &-circle,
    &-circle-outline {
        @include btn-circle($btn-prefix-cls);
    }

    &:before {
        position: absolute;
        top: -1px;
        left: -1px;
        bottom: -1px;
        right: -1px;
        background: #fff;
        opacity: 0.35;
        content: '';
        border-radius: inherit;
        z-index: 1;
        transition: opacity 0.2s;
        pointer-events: none;
        display: none;
    }

    .icon {
        transition: margin-left 0.3s $ease-in-out;
    }

    &-loading {
        pointer-events: none;
        position: relative;

        .icon {
            animation: icon-rotate 1s linear infinite;
        }
    }

    &-loading:before {
        display: block;
    }

    &-loading:not(&-circle):not(&-circle-outline):not(&-icon-only) {
        padding-left: 29px;
        pointer-events: none;
        position: relative;

        .icon:not(:last-child) {
            margin-left: -14px;
        }
    }

    &-sm.#{$btn-prefix-cls}-loading:not(&-circle):not(&-circle-outline):not(&-icon-only) {
        padding-left: 24px;

        .icon {
            margin-left: -17px;
        }
    }

    &-group {
        @include btn-group($btn-prefix-cls);
    }

    &:not(&-circle):not(&-circle-outline).#{$btn-prefix-cls}-icon-only {
        padding-left: 8px;
        padding-right: 8px;
    }

    &:focus>span,
    &:active>span {
        position: relative;
    }

    >.icon+span,
    >span+.icon {
        margin-left: 8px;
    }

    &-background-ghost {
        background: transparent !important;
        border-color: #fff;
        color: #fff;
    }

    &-background-ghost.#{$btn-prefix-cls}-primary {
        @include button-variant-ghost($btn-primary-bg);
    }

    &-background-ghost.#{$btn-prefix-cls}-danger {
        @include button-variant-ghost($btn-danger-color);
    }

    &-two-chinese-chars:first-letter {
        letter-spacing: 0.34em;
    }

    &-two-chinese-chars>*:not(.icon) {
        letter-spacing: 0.34em;
        margin-right: -0.34em;
    }

    &-block {
        width: 100%;
    }

    &:empty {
        vertical-align: top;
    }
}

a.#{$btn-prefix-cls} {
    line-height: $btn-height-base -2px;

    &-lg {
        line-height: $btn-height-lg - 2px;
    }

    &-sm {
        line-height: $btn-height-sm - 2px;
    }
}

@keyframes icon-rotate {
    0% {
        transform: rotate(0deg);
    }

    25% {
        transform: rotate(90deg);
    }

    50% {
        transform: rotate(180deg);
    }

    75% {
        transform: rotate(270deg);
    }

    100% {
        transform: rotate(360deg);
    }
}